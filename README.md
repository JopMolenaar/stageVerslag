# Stage verslag Onetribe
## _Jop Molenaar, 500880472, CMD Amsterdam_

    Functie: Front-end developer
    Docentbegeleider: Anne Marleen Olthof
    Bedrijfsbegeleider: Michael Post, full-stack developer
    Datum: <!-- oplevering datum-->

## Inleiding

<!-- geef aan waarom je stage hebt gelopen bij dit bedrijf. Hoe ben je bij dit
bedrijf terecht gekomen? Hoe is de stage je bevallen? De inleiding moet de lezer
prikkelen om verder te lezen -->

## Omschrijving van het stage bedrijf

<!-- Plaatjes enzo -->

Onetribe is een bedrijf in de houthavens (Amsterdam) dat gefocust is op het maken van websites met een extra oog op een goede gebruikerservaring. Ze gebruiken vooral Nuxt.js en Vue.js voor hun projecten maar aangezien ze een tijd geleden zijn gefuseerd met noprotocol hebben ze ook een aantal projecten met twig en php. Aangezien ze Nuxt.js en Vue.js gebruiken  voor hun projecten zijn er weinig backend developers nodig. De organisatiestructuur bestaat uit een aantal afdelingen. Hier werken visual designers, user experience designers, veel front-end developers, een aantal backenders, contentmakers, copywriters en projectmanagers. 
Ik heb dit bedrijf gevonden door te browsen op het internet. Na wat rondgekeken te hebben op de website sprak dit bedrijf mij al erg aan. Dit komt doordat ze extra aandacht geven aan wat een website echt goed en compleet maakt. Hierbij horen bijvoorbeeld responsiveness, toegankelijkheid en performance en zagen de projecten die ze hadden gemaakt er aantrekkelijk uit. Ook is dit een groter bedrijf dan waar ik eerder stage heb gelopen en dit geeft mij de mogelijkheid om te kunnen vergelijken. Onetribe maakt ook gebruik van frameworks en dit is iets waar ik nog geen ervaring mee heb, en weet zeker dat ik daar veel van kan leren.  

## Profielschets bedrijfsbegeleider

Mijn bedrijfsbegeleider is Michael Post en is een full-stack developer bij Onetribe en personal trainer. Hij heeft CMD gestudeerd en daarnaast functies gehad als front-end developer en project manager. Hij kan mij zeker wat leren aangezien hij veel ervaring en kennis heeft in het vak en aan dezelfde (soort) projecten werkt als ik tijdens mijn stage. 

## Jouw functieomschrijving

Mijn functie die ik ga uitvoeren is front-end developer. Hierbij ga ik meewerken aan projecten op basis van Nuxt.je en Vue.js en kan ik worden gevraagd om werk te testen en aan te geven waar er verbeteringen gemaakt moeten worden of zelf te verbeteren. Deze projecten zijn voor bedrijven zoals Peakz padel. De gebruiker moet op deze websites vaak informatie kunnen vinden en bepaalde acties kunnen ondernemen waar de service voor bedoeld is zoals iets kopen of boeken. 
Het team waarin ik kom te werken zijn vooral andere developers, designers, UX’ers, en project managers.

## Werkzaamheden

<!-- 
Wat heb je concreet gedaan. Een uitgebreide beschrijving van de
jouw werkzaamheden en van jouw gemaakte beroepsproducten. Laat afbeeldingen
zien van wat je hebt gemaakt en het proces erachter. TIP: Gebruik hierbij het logboek
dat je tijdens je stage hebt bijgehouden.
-->

Ik heb tijdens mijn stage meegewerkt aan meerdere projecten waaronder ....
Op deze projecten maakte ik features, loste ik bugs op, ..., ... en nog veel meer met behulp van het nuxt/vue framework maar ook .twig, typescript, en andere tools.

Hierbij heb ik heel veel geleerd over de techniek die onetribe gebruikt voor hun projecten en over onetribe en het bedrijfsleven zelf. Daarom wil ik niet alleen mijn leerdoelen behandelen in dit verslag maar ook uitleggen wat ik daarnaast allemaal geleerd en gezien heb. Dit sluit natuulijk ook aan op mijn leerdoelen.

## Leerdoelen

<!-- 
In je stageplan heb je leerdoelen beschreven binnen je gekozen
competenties, reflecteer op je ontwikkeling aan de hand van je leerdoelen uit je
stageplan en hoe je je ontwikkeld hebt sindsdien. Wat zijn je belangrijkste leerpunten
van deze stage? En hoe heb je aangetoond dat je je leerdoelen hebt behaald. Geef
voorbeelden uit de projecten waar je aan gewerkt hebt. 
-->

  ### Samen ontwerpen

  **CMD’ers betrekken teamleden, gebruikers, domeinexperts en belanghebbenden in het ontwerp. Ze begrijpen de verhoudingen en zorgen dat iedereen zich gehoord voelt in het proces.**

  Tijdens mijn stage bij Onetribe heb ik veel kunnen samenwerken met verschillende stakeholders binnen een team. Aan het begin werd ik op een project genaamd Peakz padel gezet, dat in zijn laatste development fase zat voor de officiele livegang. Wat voor mij meteen nieuw was was het samenwerken met verschillende project managers (voor development, klantcontact, externe partijen contact), designers, backend developers, developers en lead developers. Ook begon ik hier een nieuw framework te leren en heb ik veel feedback gekregen. 

  Aan het begin hadden we soms een standup maar naarmate het eind in zicht kwam werd dit iedere dag een standup waar de progressie even kort werd besproken. 

  - Communicatie naar pm'ers / klant / developers


<!-- TODO langs logboek gaan en per punt (grote punten) even opschrijven wat ik ervan heb geleerd -->


  - Meetings pfed {start project}

  Feedback verwerkt:
  Gedachten gangen:
  Feedback gegeven:
  Hoe ik mijn communicatieve vaardigheden heb proberen te verbeteren:
  Reflectie:

  ### Prototypen en uitwerken

  **CMD’ers zijn in staat om concepten vorm te geven en te concretiseren in prototypes. Ze kunnen hun ontwerp inpassen in geldende standaarden en het productportfolio van het bedrijf.**

<!-- TODO langs logboek gaan en per punt (grote punten) even opschrijven wat ik ervan heb geleerd -->

  - Peakz features 
  - De rijke noordzee features
  - Logica Vista
  - Oba features
  - Blokken bouwen pfed

  - Veel projecten opgezet
  - Nieuwe systemen gebruikt
  - Releases gedaan

  Feedback verwerkt:
  Gedachten gangen: 

  ### Evalueren

  **CMD’ers zijn in staat resultaten, die tijdens verschillende stadia van het ontwerpproces ontstaan, herhaaldelijk te toetsen op hun waarde en belang voor gebruikers, stakeholders en maatschappij.**

  - Week 5 dag 2: pre filled in form links voor PEAKZ (3 keer de code geevalueerd en verbeterd)
  - Week 7 dag 1: Aspect ratio videos uit data voor PEAKZ (ook meerdere keren  geevalueerd en verbeterd)
  - Week 7 dag 5: Code geevalueerd en bedacht dat het hier handig zou zijn om comments toe te voegen. 

  ### Oriënteren en begrijpen

  **CMD’ers kunnen de context van het probleem, de wens van de gebruiker, doelstelling van de opdrachtgever, de belangen van belanghebbenden en de mogelijkheden van de technologie in kaart brengen en begrijpen.**

  - Week 1 dag 3
  - Week 3 dag 3
  - Week 4 dag 4
  - Week 5 dag 2
  - Week 5 dag 3
  - Week 6 dag 4
  - Week 7 dag 2
  - Week 7 dag 5
  - Week 8 dag 1

  (Onderzoek naar craft, tailgrids, twig, vue + nuxt, logica vista)

  ### Verbeelden en conceptualiseren

  **CMD’ers bedenken ideeën en ontwikkelen concepten voor digitale interactieve producten, diensten, en belevingen. Ze vinden nieuwe wegen om tegemoet te komen aan wensen van gebruikers, doelstellingen van de opdrachtgever en andere belangen.**

  - Week 1 dag 3: stukje typescript schrijven, na wat evalueren de javascript achtige code meer naar typescript geschreven, code die er al was herbruikt, en zag dat de code hierdoor een aantal code duplication kreeg, ik verzon hiervoor een oplossing maar wilde eerst vragen aan mijn collega developer of er geen helper functies hiervoor zouden moeten worden gemaakt. Antwoord: ja dat kan, is niet nodig voor deze sprint.
  - Week 4 dag 4: Meerdere oplossingen voorgesteld over een te lange button met je eigen naam die naar je account gaat op de PEAKZ website.
  - Week 5 dag 2: Ik had een oplossing bedacht voor de pre filled form links, en liet Wiebe dat zien. Wiebe zei dat dit ook te snappen zou moeten zijn voor de klant (aangezien content beheerders ook dingen in het cms veranderen, en als er dan een nieuw formulier komt moet de content beheerder deze stappen doorlopen zondar dat die enig verstand heeft van url's enzo) Ik evalueerde mijn oplossing en zag dat de oplossing voor de meeste zeker te snappen is, maar niet voor iedereen. Ik legde het uit aan de pm'er aangezien een betere oplossing tijd zou kosten. De pm'er vond de oplossing te snappen en goed genoeg, er moet desnoods een beetje documentatie bij van 2 regels. 
  - Week 6 dag 4:
  - Week 7 dag 5: Filter opties uitzetten voor oba leef en leer, en dit mooi afmaken met user friendly oplossingen na er kritisch naar hebben gekeken. 
  - Week 8 dag 1: 
  - Week 9: vista logica (kritisch naar het formulier gekeken en features erbij gebouwd die nog niet bestonden zoals: extra lagen toevoegen aan het formulier en velden kunnen tonen, de extra velden kunnen valideren (voor meerdere types in de diepere lagen), geneste antwoorden kunnen verwijderen als je een lag erboven iets veranderd, error meldingen voor die geneste velden kunnen laten zien, ) ook nog de code geoptimaliseerd.

  ### Werkwijzen Onetribe

  Aangezien Onetribe gefuseerd is met noprotocol hebben ze nu nog meerdere werk-omgevingen en manieren voor de versie beheer. Ik dacht eerst dat er meerdere manier waren maar uiteindelijk kwam ik erachter dat ze allemaal de git flow manier willen aanhouden. Hierbij wordt de versie van je applicatie automatisch geupdate aan de hand van wat je in je commit messages zet. Ook worden de branches automatisch in een map geordend aan de hand van wat je voor je branch zet. Naast git flow heb ik ook geleerd dat ze de commit messages in voltooide tijd schrijven, dit is handig want dan leest diegene die het reviewed wat die changes gaan doen en niet wat ze al gedaan hebben, want dat is niet zo. 

  ...

  #### Git flow

  Om de versie beheer goed inzichtelijk te houden maken ze gebruik van git flow.
  Je zet `feature/`, `hotfix/` of `release/` voor de titel van je branch als je die cloned en de titel van je commit is eigenlijk vaak ook je issue nummer. Welke het meest wordt gebruikt is `feature/`.
  Voor de semantic release (het versienummer van je project die je automatisch kan updaten aan de hand van hoe je je commits opbouwt) moet je je commits beginnen met chore:, fix:, feature: of perf:. 
  voorbeelden:

  ![Git flow](images/gitflow.png)

  > Bron: https://www.atlassian.com/git/tutorials/comparing-workflows/gitflow-workflow 

  Ook zei Raoul dat niet iedereen zich aan de standaard van git flow houdt en vind dat je je gewoon aan de standaard moet houden en niet dingen er bij moet verzinnen die je dan eerst weer moet uitleggen. 

  ##### Git flow deployment 

  Nadat ik een feature had gebouwd voor DRN heb ik samen met Raoul DRN kunnen deployen naar productie (de website die live staat). Dit mocht na een GO van de klant. Eerst moesten we een nieuwe versie releasen om de versie tag up te daten. Deze werd v2.1.0 aangezien er een commit met feat: (feature added) begon en moesten we handmatig schrijven aan de hand van de git flow. Dit kan automatisch worden gedaan maar aangezien github soms dingen meeneemt die niet de bedoeling zijn hou je het hier mee in eigen hand. Daarna hebben we een pull request gemaakt van `develop` naar `master`. Hierin stonden stappen die we moesten doorlopen voor deze deploy en dat waren: 

  ```
  - [x] Nieuwe versie tag: vX.Y.Z
  - [x] Backup van productie database downloaden (evt. minus activity logs content)
  - [x] Nieuwe env variabelen? Op productie dyno instellen (check: .env.example)
  - [x] PR aanmaken van [acceptance|develop|release]-branch naar [main|master]
  - [x] Nieuwe Node versie? Set node versie in buddy action “Execute yarn lint. semantic release” (check in .nvmrc & package.json)
  - [x] Productie deployen (via BuddyWorks/Heroku)
  - [x] Na deployment In het CMS de nieuwe velden voorzien van teksten (popup titels, beschrijvingen, etc.)
  - [x] Eventuele Freeform formulieren aanvullen met nieuwe velden
  - [x] PR mergen
  - [] Branches Cleanup (alleen master, develop en feature-branches over?)
  - [x] Backmerge Master
  ```

  De eerste stap was dus het aanmaken van een nieuwe versie tag doormiddel van semantic release, alleen dan handmatig. Daarna maakte Raoul een backup van de database, dit is belangrijk voorals de deployment fout gaat, dan kan je het namelijk altijd terug zetten. Nieuwe env's hadden we niet. PR hadden we ook gemaakt. We hadden geen nieuwe Node versie dus die konden we ook overslaan. Daarna heeft Raoul de `develop` branch gedeployed in BuddyWorks. 
  Terwijl het aan het deployen was liet Raoul mij Cypress zien waarmee je met bepaalde scripts heel snel websites (vooral de basis functionaliteiten zoals of zoeken werkt en of je geen lege lijst krijgt bij een bepaalde pagina) kan testen. Hij raadde mij dit wel aan om in te duiken. 
  Daarna was het geployed en konden wij `develop` naar `master` mergen. Daarna moesten we nog een backmerge doen van `master` naar `develop` om 100% zeker te zijn dat alles changes die in master zitten ook in develop zitten (denk aan hotfixes of iets dat nog niet is gemerged naar develop). 

  Na de deploy even gekeken of het allemaal goed werkte op productie daarna weer doorgegeven aan Lars. 

  Content kon ik al toevoegen maar aangezien de klant juist de optie wilde om daar een video te plaatsen heb ik dat niet gedaan, Lars uiteindelijk wel. 

  Ook had ik een GO gekregen om oba-congres op productie te zetten. Hier heb ik een pr voor aangemaakt van `develop` naar `master`, en nadat Colin de pr goed heeft gekeurd, op buddy de deploy heeft gedraait (Hier hoefde geen backups of iets voor gedraait te worden aangezien het een singlepage website is zonder database of iets) kon ik een release aanmaken `v1.2.2`. Colin vroeg zich nog af of het niet `v1.3.0` moest zijn maar ik zei dat het inprincipe alleen maar content changes zijn voor de gebruiker en dit voegt verder geen extra features toe en daar was hij het mee eens. 
  <!-- [screen shots] -->

   ##### Merge regel

   Bij Onetribe is er een regel dat je je eigen branch merged. Dit is een regel die bij mijn minor bij de HBO ICT het tegenovergestelde was. Daar gelde je merged meteen de branche die je hebt geapproved, als er iets fout is aan de changes, dan zijn jullie allebei verantwoordelijk. Aangezien degene die het approved en mergen goed had moeten testen en reviewen. 

   Bij Onetribe geld dat niet. Hier maak je een pr, deze wordt gereviewed, feedback gegeven of approved en dan mag je hem daarna zelf mergen. Dit geeft als gevolg dat de reviews niet uitermate wordt getest en vooral wordt gekeken naar de kwaliteit van de code. Wel is dit sneller qua reviewen, is alleen degene die het heeft geschreven verantwoordelijk maar geeft mogelijk wel meer kleine (over het hoofd geziende) issues later omdat 1 persoon mogelijk meer fouten maakt dan 2 mensen bij elkaar. 

   Wel is dit natuurlijk een professionele omgeving waar iedereen op een redelijk niveau codeerd en niet zoals op school waar een deel er niks van begrijpt en je juist van elkaars code ook wil leren.

  #### Code enviroments & andere tools

  Bij Onetribe gebruiken ze Bitbucket en Github om hun code op te slaan. Dit verschilt per project door de fusering met noProtocol. 

  - Jira -> Issue boards
  - Sentry -> Website monitoring (debug, errors)
  - Algolia -> Search
  - Dato of Craft cms -> content management system
  - Heroku -> Hosting
  - Akamai -> Cache
  - Screamingfrog -> SEO testing, (Maar voor peakz hebben ze een SEO man ingehuurd om tips te geven)
  - Extra widgets zoals FOYS of localfocus -> hiermee komt vaak de klant mee aanzetten. Hier kiest Onetribe dus niet perse voor, en hebben dus ook vaak problemen door bugs bij de andere partij.
  - Buddy.works tussen iets om websites te deployen/hosten

  #### Vue.js/Nuxt.js Onetribe

  Veel projecten maken gebruik van het Vue.js/Nuxt.js framework. Dit was helemaal nieuw voor mij dus dit was erg interessant. 
  Wat ik meteen al zag is dat dit erg component based wordt geschreven. Je hebt pages, en die bestaan uit components, en sommige components bestaan weer uit andere components. Door data door te geven en te kijken of bepaalde dingen moeten worden ingeladen als het nodig is, kun je dus met dezelfde componenten verschillende pagina's maken, zonder veel code duplication. Ook hebben deze componenten hun eigen component based styling en scripts. 
  <!-- meer voorbeelden en code hieronder -->

  Wat ik veel heb gebruikt in vue wat aansluit op de vue manier van code schrijven zijn:
  - Computed properties
  ```js
  const trueOrFalse = computed(()=> {
    return eenArray.lenght > 1;
  })

  console.log(trueOrFalse) // functie wordt uitgevoerd als je de variabele gebruikt, logt true of false
  ```

  - props doorgeven aan een component: 
  ```js
  <component
    :ditIsEenProp="trueOrFalse"
  >
  ```

  En in het component kan je dan zo de props inzien:

  ```js
    const props = {
      ditIsEenProp: boolean;
    }
    console.log(props.ditIsEenProp) // dit logt true of false
  ```

  - v-if en v-for 
  ```js
  <component
    v-if="ditIsEenProp" v-for="nestedGroup in groups"
  >
  ```

  - v-html
  - slot

  ```html
    <slot name="search-results" />
  ```

  en in het component erboven:

  ```html
    <template 
          #search-results
        >
          <ais-hits>
            <template #item="{ item }">
              <search-hits-item-learning-materials :item="item" />
            </template>
          </ais-hits>
    </template>
  ```

  Wat makkelijk hieraan is is dat je veel overzicht kan behouden in een file qua wat er allemaal in zit. Maar de logica en styling staat op het component zelf. Ook kan je op verschillende pagina's het component search results gebruiken terwijl je er andere dingen in kan zetten per pagina. Dit scheelt logica in het component zelf. 

  #### Opzetten projecten 

  Tijdens mijn stage heb ik een hoop projecten moeten opzetten om daaraan te kunnen werken. Dit vond ik lastiger dan developen aangezien het vaak niet meteen werkt, niet alle error meldingen duidelijk zijn en je kennis nodig hebt om mogelijk te kunnen zien waar het aan ligt. Ook moet je alle stappen doorlopen en is dit niet altijd goed gedocumenteerd omdat ik vaak op edge cases terecht kom. Hier heb ik veel van geleerd, denk bijvoorbeeld aan hoe het werkt, de stappen die je moet doorlopen, errors herkennen, de benodigdheden weten (bepaalde talen, databases, lokale server). Door al dit vaak te hebben gedaan, veel hulp te hebben gekregen en vragen te stellen ging dit opzetten steeds soepeler en zelfstandiger, en snapte ik ook beter hoe die projecten in elkaar zaten. 

  De systemen die Onetribe gebruikt om servers op te zetten en databases te runnen zijn Laravel herd, DBengine en tableplus. Dit heb ik werkend kunnen krijgen met wat hulp voor het project Oba leef en leer waarvoor dit nodig was. Een tijdje later moest ik de rijke noordzee opzetten hiermee maar dat lukte niet zelfstandig. Uiteindelijk heb ik hier de hulp van Raoul voor gekregen. Maar Raoul gebruikt ddev (docker) en dat maakt twee docker containers voor de database en craft (cms). Uiteindelijk werkte dat voor de rijke noordzee maar bleek later dat laravel herd het niet meer deed, dit heb ik ook niet meer aan de praat gekregen met hulp van meerdere mensen. 

  Uiteindelijk heb ik alle projecten daarna draaiend gekregen met ddev, niet alleen, vaak met hulp. Dit kwam omdat ik dan tegen errors kwam waarvan ik niet wist hoe ik die kon oplossen. Hierdoor heb ik de stappen en benodigdheden vaak kunnen observeren en onthouden. En uiteindelijk had ik geen hulp meer nodig. De dingen waar ik op moet letten als ik een project op start zijn:

  - Alles in de env moet goed staan.
  - Craft moet eerst runnen want anders kan je de fe niet builden want nuxt voert queries uit om te kijken of alles kan wat die wilt doen en als dat niet kan gaat er iets niet goed. 
  - Je moet een database krijgen van je collega's anders kan de code niks vinden. 

  <!-- verdere feitjes: Nuxt draait op localhost nadat die is gebuild. 
  Craft kan headless maar hoeft niet. Headless: draait op een andere server. Kunnen elkaar wel bereiken, andere url. -->

  <!-- // TODO [Tekening maken] -->

  **Plug-in installeren in craft (cms)**

  Uiteindelijk moest ik een andere dag een plugin installeren in craft. Deze plugin zou moeten zorgen voor extra beveiliging wanneer je een wachtwoord aanmaakt. 
  Het project draaide al lokaal en na de documentatie te lezen probeerde ik de plugin te installeren. Dit lukte niet in een keer, ik wist niet precies waar ik het commando moest draaien en ik had wat database connection errors. Na een poos de containers uit docker uit te hebben gezet en weer aan te hebben gezet deed het commando het opeens wel. Dit had ik gepushed, maar zag dat niet alle files nodig waren om te committen. Ik had wat changes verwijderd maar raakte verstrikt tussen de verschillende versies van mijn branch en craft, ook na het opnieuw bouwen van het cms en de yaml files gelijk trekken zeurde het cms over changes die waren gemaakt in de database. Dat betekende maar een ding en dat was het project nuken en opnieuw bouwen. 
  Dit was een goede oefening om weer het proces van een project opzetten te doorlopen en lukte meteen. Mijn stappen waren dit:

  ```
  $ make nuke
  $ ddev import-db --file=./oba-leef-en-leef.sql #importeer de database die ik aan het begin van de stage had gekregen. Deze heeft nog niet de changes van mijn geinstalleerde plugin. 
  $ ddev . make build-cms # bouw het cms in een docker container
  $ make build-web # bouw de front-end
  $ make run # host de front-end op localhost (geen docker container)
  ```

  Nadat het project opnieuw was gebouwd checkte ik of de plugin in craft stond. Dit was niet het geval en kon ik dus weer opnieuw installeren. Om de database altijd te bereiken moest ik de host van mijn database uitgebreider opschrijven. Dus het werd niet `DB_DSN="mysql:host=db;port=3306;dbname=db"` maar `DB_DSN="mysql:host=127.0.0.1:3306;port=3306;dbname=db"`

  Dit kon ik zien door `ddev status` te draaien in de terminal want daar stonden dit soort gegevens. 

  Installatie van de plugin:

  ```
  $ cd cms
  $ ddev composer require "born05/craft-enforcepassword:^2.0.0" -w && ddev craft plugin/install enforce-password
  ```

  Dit lukte allemaal en installeerde alleen de benodigde files. Daarna heb ik nog een enforce-password.php file aangemaakt om de criteria van een nieuw wachtwoord te benoemen en zo nodig aan te passen. Colin wilde niet dat het wachtwoord na een aantal dagen zou expireren dus die hebben we op 0 gezet. En verder wordt alleen het laatste wachtwoord opgeslagen i.p.v de laatste vijf. Dit heb ik getest het werkte. 

  ```
  $ ddev craft users/create --admin 
  Email: testtest@test.com
  Username: jopadmin
  Set a password for this user? (yes|no) [no]:yes
  Password: 
  Password should be at least 16 characters.
  ```

  **Andere projecten**

  Alle projecten die ik daarna heb opgestart gingen veel vlotter dan daarvoor. Het meeste waar ik nog tegenaan liep was dat de `.env` variabelen niet goed stonden. Hier heb ik de andere keren extra op gelet en naar gekeken. Zo was er bijvoorbeeld redis toegevoegd door de backend developer in het patienten federatie project die ik al draaiend had gekregen op mijn computer. Maar de nieuwe changes zorgde ervoor dat het het niet meer deed. Na wat research en de error meldingen te hebben gelezen kwam ik er achter welke variabelen en files ik miste. Dit waren de `docker-compose.redis.yaml` (die stond in de `.gitignore`), de redis variabelen in de `.env` en ik moest redis op mijn computer nog installeren. Na wat experimenteren zorgde `REDIS_HOST=host.docker.internal` in de .env er uiteindelijk voor dat de redis DB connectie geopend kon worden.   

  #### Samenwerking met design

  Halverwege mijn stage ben ik fulltime op Patientenfederatie gezet om de content blokken te templaten en te stylen. Het idee achter dit project was dat er blokken zouden worden gebouwd en dat de klant in het cms zelf de pagina's kan samenstellen. Dit zou ik moeten doen in twig en stylen met tailwind and tailgrids. Dit zou ook zijn gebruikt in figma. Al snel kwam ik erachter dat tailgrids components kopieren en aanpassen naar het design voor de developers niet echt handig was. De figma blokken verschilde te veel van de tailgrids blokken waardoor ik alles moest verwijderen en eigen styling moest toevoegen. Ook waren veel blokken met position absolute gestyled waardoor het niet repsonisive was als je elementen uit de blokken haalde. 

  Het opzetten van de tailwind.config hebben we vooral gedaan met de aparte figma tabs zoals typography en colors. Maar uiteindelijk bleek dat het design van de homepagina daar niet helemaal op aansloot. Dit zorgde alsnog voor extra typografie styling op de html elementen. 

  Na wat design meetings, af en toe design changes vanuit de klant (want dit proces was nog bezig) hadden we een meeting waar verschillende stakeholders verschillende gedachtes bij hadden. We hadden al eerder een design check meeting gehad waar de eerste opzet werd bekeken. En deze meeting dacht ik dat er iets meer op de styling zou worden gelet, maar nog niet helemaal pixel perfect (altans hier was ik nog niet helemaal mee klaar). Dit bleek niet zo te zijn. Uitieindelijk werd de meeting als een wakeup call beschouwd en gingen Colin en ik alles nog drie keer zouden checken en styling fixen. Nadat ik alle values vanuit het rechter menu had overgenomen en soms logica moest toevoegen omdat het op hetzelfde blok was maar net iets andere versies waren, legde ik de screenshot van de webpagina en het figma design over elkaar. En kwam ik erachter dat deze values uit het rechter menu soms niet eens overeen komen met hoe het blok was opgebouwd. 

  Nadat ik deze info wist heb ik met option steeds moeten inspecteren hoeveel px de padding bijvoorbeeld was.

  Tijdens de sprint retrospective hebben we dit ook benoemd en dit wordt als het goed is meegenomen in de retrospective van design. Waadoor de samenwerking tussen development en design verbeterd kan worden, want daar zijn nog wel wat verbeter puntjes. 

## Observatieopdrachten

<!--
Beschrijf kort welke observatieopdrachten je hebt
uitgevoerd. (denk aan het documentje Observatieopdrachten). Geef aan wat je hebt
geleerd en hoe dit heeft geholpen bij het behalen van je leerdoelen. 
-->

Voor de drie observatieopdrachten wilde ik onder andere stand-ups bijwonen, een livegang bijwonen en een kick-off/ start development proces van een project bijwonen. Dit is allemaal gelukt. 

### Standups

Ik heb veel standups bijgewoond waar verschillende functies bij aanwezig waren. Daarbij heb ik goed opgelet, geluisterd en input gegeven. Daarnaast vinden er ook veel gesprekken op de wwerkvloer plaats waar dingen worden besproken over projecten, volgende moves en statussen. Deze heb ik ook gezien, bijgewoond, en zelf gestart. Hierdoor heb ik een goed beeld gekregen over de samenwerking en communicatie op de werkvloer binnen het team en hieraan zelf ook meegedaan en zelf geoefent. Communicatie is key, je kan beter iets te veel zeggen dan te weinig. Wat ze met die informatie doen is niet jou probleem. Wel is het handig om de tijd van een ander te respecteren en bijvoorbeeld meerdere vragen tegelijkertijd stellen in person of in de mail. Hierdoor wordt de persoon niet onnodig meerdere keren uit zijn flow gehaald. 
Wat er besproken wordt in de standups is vaak of er nog meer informatie is van de klant, statussen van tickets van de developers naar de pm'ers.

<!-- - Ook wil ik graag een sprint voor de livegang en de livegang zelf bijwonen. Zo kan ik antwoord krijgen op hoe gaat dit in zijn werk, hoe werkt iedereen voor een bepaalde deadline, hoe gaat de communicatie tussen de klant, externe stakeholders, project managers en developers. Komen er nog veel dingen bij als je eenmaal live bent gegaan, dingen waar klanten nog op komen of niet chill vinden nadat ze live zijn gegaan.  -->

### Livegang

Livegang van bepaalde websites heb ik ook zeker gezien, en zelfs zelf gedaan. De grootste livegang was die van peakz padel. Deze website zat in totaal al een jaar in het development traject en aan het einde is er steeds meer focus op gekomen. Dit kwams onder andere doordat er een definitieve datum was wanneer er banen kwamen in duitsland en voor die tijd moest de webiste af. Uiteindelijk is die in de 5de week van mijn stage live gegaan. Eerst Nederland (deze was het spannendst) en daarna Duitsland (dezelfde source code, alleen andere content). Dit ging allemaal makkelijker dan verwacht. Voor de livegang was er nog een spoed overleg omdat er peformance issues waren (onnodig data verkeer). Dit zou ervoor zorgen dat de site er snel uit zou liggen als er veel bezoekers op zouden komen. Uiteindelijk is ervoor gekozen om de livegang alsnog door te laten gaan en in Heroku (waar de website wordt gehost) een quick fix te doen waardoor de server scaleable is en deze hoeveelheid dataverkeer dus aan kan. Dit kwam wel met een kosten plaatje van 3500 euro per maand dus dit moest snel gefixed worden. 
Colin en Wiebe hadden de laatste dingen naar master gemerged. En Tim en Stef gingen het stappenplan van Job doorlopen om de website op productie te krijgen en te koppelen aan de DNS records. Na de livegang zaten de pm'ers op te letten of de website het goed deed en hielden contact met de klant. Ondertussen waren Colin en Wiebe de website aan het optimaliseren en ik was andere bugs aan het oplossen. Een aantal dagen later was dit allemaal opgelost en kon Duitsland live. 

<!-- - En het liefst zou ik een kick off van een project bijwonen, een beginnend project in kijken of de start van het development traject willen bijwonen of aan mee werken. Zo krijg ik meer inzicht over hoe het vanaf het begin in zijn werk gaat, door welke handen zulke projecten gaan voordat het live gaat.  -->

### Kickoff

Ik heb ook een kickoff van een nieuw project bij kunnen wonen. Dit project begint aan zijn development traject nadat het door de discovery, concept en bijna de design fase is gelopen. Deze kickoff begon met een meeting onder de developers zelf samen met een pm'er om deze dingen te bespreken:

- Het concept te bespreken
- Wat het is **=>** (15 websites naar 1 webiste, veel content, geen lastige styling, blokken bouwen, wel veel clickouts)
- Welke tech stack **=>** Craft blokken bouwen, twig templating language, styling tailgrid, (1 tool waar vue voor wordt gebruikt (alleen ingelanden op die pagina))
- Wat belangrijk is **=>** pagespeed, accessability en de grootste uitdaging is het goed opzetten van de craft structuur zodat het voor de klant en content beheerders het makkelijk is om overizichtelijk content te beheren. 
- Taak verdeling
- Planning
- Deadline
- Eerste taken
- Doelen 

Verder werd er besproken hoe ze het willen bouwen, nieuwe dingen zoals (craft 5, tailgrids, algolia ook relatief nieuw voor veel developers)

Uiteindelijk moest ik even onderzoek doen naar Tailgrid. Hoe werkt het en wat heeft het.
Het bestaat eigenlijk uit templates en components die gemaakt zijn met tailwind. De installatie is makkelijk. Tailgrid heeft ingebouwde functies om bijvoorbeeld classes te togglen en `:class=""` toe te voegen aan de hand van een boolean etc. Dit scheelt javascript schrijven. Qua menging met twig is het makkelijk want alle data gaat zo: `{{{ data.iets }}}` en twig heeft ook loop functies, verder is het allemaal html waar je de tailwind classes op kan zetten. Design gebruikt ook tailgrids dus dat is ook makkelijk want dan kan je de gekozen tailgrid components opzoeken, kopieeren en customizen. 

Daarna heb ik nog vragen gesteld over algolia en craft aan Colin. => Beter beeld over wat er gedaan moet worden voor hun. 
In craft staat alle content, dat wordt gelinked met algolia, dat wordt ingeladen op de website en kan makkelijk en snel zoeken in wat in algolia staat. Verder gevraagd over wat ze denken te doen in craft. Sections in sections kunnen niet. Entries (soort pagina's) en reusable entries (herbruikbaare pagina's) bestaan ook. Verder vindt Tim het niet echt een goed idee om een tag op pagina's te zetten onder welke omgeving die moet komen, er zijn namelijk drie omgevingen met secties die pagina's bevatten. En in die omgevingen zijn een aantal secties hetzelfde, en je wilt geen dubbele pagina's maken. Ik zei dus tegen Colin of hij die niet als reusable pagina kon maken en die dan op meerdere pagina's kunnen gebruiken. Hij zei dat dat kon maar dat het niet echt zo werkt. 

Verder hadden we de volgende dag nog twee andere meetings waar ik bij kon zitten. Deze meetings waren met design en UX en daar werd vooral de focus besproken voor nu. Ook werden de wireframes en informatie structuur doorlopen en werden er punten opgesteld terug naar de klant waar op sommige punten stevig druk op moest worden gevoerd. Dit komt omdat de klant vaak laat is met dingen aanleveren of feedback geven. 

Ook werd er gegeken of ze dingen aan het concept konder tweaken waardoor het werk scheelt, en het beter is voor de gebruiker. 

Ook werd er discussie gevoerd over bepaalde beslissingen met betreft opzet CMS omdat dit veel gevolgen gaat hebben op uren en hoe de klant straks content beheert. 

> Week 1 PFED = Job (backend developer) heeft craft, sentry, heroku (productie, staging) en AWS opgezet en gelinked. Colin heeft de structuur van craft uitgedacht in excel en gespard met Raoul hiervoor. Ook heeft hij de eerste structuur gemaakt met code en vooral getest of dingen werken of niet. 

> Week 2 PFED = Start sprint 1, nog steeds veel meetings. Design presentatie, issues gemaakt aan de hand van de TA. 

> Week 3 PFED = Laatste feedback punten, klant is laat met feedback, cms logica is al in de maak,

> Week 4 PFED = Klant nog steeds geen akkoord op informatie architectuur, verder is er al wel begonnen met het bouwen (voorzichtig en voorbereidend) maar als het akkoord langer op zich laat wachten kan er niks worden gedaan. Nu vindt de klant dit niet zo erg, maar voor Onetribe is dit wel naar, aangezien zij dan langer met een project bezig zijn en in die tijd al een nieuw project hadden kunnen aannemen. 

## Analyse feedbackformulieren 

<!-- 
Maak een analyse gebaseerd op de je
functioneringsgesprek en de feedbackformulieren van halverwege en het einde van
je stage. Wat valt je op? Hoe kijk je aan het einde van de stage terug naar je stageplan
en het functioneringsgesprek halverwege? 
-->


## Reflectie

<!-- 
Wat ging er goed of beter dan verwacht? Welke dingen had je anders willen aanpakken?
Wat zijn je eigen kwaliteiten en beperkingen? Wat betekent de opgedane ervaring tijdens
de stage voor je eigen beroepsperspectief? Kijk hiervoor ook terug naar de
ontwikkelingsevaluatie 
-->

## Bijlagen

<!-- 
- Je stageplan
- Alle feedbackformulieren, dus die van het tussentijdse gesprek en die van het eindgesprek
- Eventueel in detail beschreven (deel)producten die je hebt gemaakt.
- Eventuele andere verslagen van vergaderingen, interviews, observaties of anderszins
- relevante stukken. Omvang: ca. 20-25 pagina’s exclusief de bijlagen. Let op dat je beknopt en bondig schrijft en maak goed onderscheid tussen wat bij je verslag hoort en wat een bijlage is.

(Een bijlage is een aanhangsel aan het originele werk waarin je informatie vindt die
ondersteunend is maar in de hoofdtekst te veel zou afleiden.)
-->

<!-- [Logboek] ? -->












<!-- router_http_port: "8010"  # Port to be used for http (defaults to global configuration, usually 80)
router_https_port: "443" # Port for https (defaults to global configuration, usually 443) -->